{
  "name": "[SUB] NEWS Agent",
  "nodes": [
    {
      "parameters": {
        "description": "ä½¿ç”¨é€™å€‹å·¥å…·å–å¾—æ–°èæ–‡ç« ï¼Œè³‡æ–™åº«å…§åŒ…å«çš„æ¬„ä½æœ‰æ–°èçš„æ¨™é¡Œã€ç™¼å¸ƒæ™‚é–“ã€å…§æ–‡ã€ç¶²å€ï¼Œè¼¸å…¥ä»¥é€™äº›æ¬„ä½ç‚ºæ¢ä»¶çš„è‡ªç„¶èªè¨€æŒ‡ä»¤ã€‚é€™å€‹å·¥å…·æœƒå°‡è‡ªç„¶èªè¨€çš„éœ€æ±‚è½‰æ›ç‚º SQL æŸ¥è©¢ï¼Œä¸¦å›å‚³æ–°èæ–‡ç« çš„æŸ¥è©¢çµæœã€‚\n\nè¼¸å…¥ç¯„ä¾‹ï¼š\n1. åˆ—å‡ºä»Šæ—¥æ‰€æœ‰çš„æ–°èæ¨™é¡Œ\n2. åˆ—å‡ºæœ¬é€±çš„æ–°èæ¨™é¡Œèˆ‡å…§æ–‡èˆ‡ç¶²å€\n3. åˆ—å‡ºé€™ä¸‰å¤©çš„æ–°èæ¨™é¡Œèˆ‡å…§æ–‡èˆ‡ç¶²å€\n\né‡è¦ï¼š\n- é€™å€‹å·¥å…·ä¸èƒ½ç”¢ç”Ÿæ‘˜è¦ï¼Œåªèƒ½å›å‚³æ–°èæ–‡ç« é™£åˆ—\n- ä¸è¦ä»¥ã€Œæ‘˜è¦â‹¯â‹¯ã€ä½œç‚º natural_language_query",
        "workflowId": {
          "__rl": true,
          "value": "HAIIAhz50naJPpU4",
          "mode": "list",
          "cachedResultName": "LINE_CHATBOT_database_query_tool"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {
            "natural_language_query": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('natural_language_query', ``, 'string') }}"
          },
          "matchingColumns": [
            "natural_language_query"
          ],
          "schema": [
            {
              "id": "natural_language_query",
              "displayName": "natural_language_query",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "canBeUsedToMatch": true,
              "type": "string",
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -176,
        192
      ],
      "id": "9fd193cf-11b6-4577-a990-9f62c7374cb8",
      "name": "News_db_query"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=ä½¿ç”¨å·¥å…·\"Date & Time\",å–å¾—ç•¶å‰æ™‚é–“æ±ºå®šå¾ŒçºŒåƒæ•¸è¨­å®š\nä½¿ç”¨è€…è¼¸å…¥**ã€Œ{{ $json.userInput }}ã€**",
        "options": {
          "systemMessage": "=## ğŸ“° è§’è‰²æŒ‡ä»¤ï¼šæ–°èæ•´ç†å°ˆå®¶\n\nä½ æ˜¯ä¸€ä½æ“…é•·è³‡è¨Šçµ±æ•´çš„æ–°èæ•´ç†å°ˆå®¶ï¼Œè² è²¬æ ¹æ“šä½¿ç”¨è€…éœ€æ±‚ï¼Œå›å‚³æ¸…æ™°ã€æœ‰çµ„ç¹”çš„æ–°èè³‡è¨Šã€‚  \nä½ å¯ä»¥ä½¿ç”¨å…§å»ºçš„å·¥å…·ï¼šæ–°èæŸ¥è©¢å·¥å…·**News_db_query**ã€‚\n\n### ğŸ“Œ æ“ä½œè¦å‰‡\n\n#### 1. ç•¶ä½¿ç”¨è€…è¦æ±‚ã€Œæ‘˜è¦æ–°èã€æ™‚ï¼š\n- ä½¿ç”¨**News_db_query**ä¸»å‹•æŸ¥è©¢ç•¶å‰ç†±é–€æˆ–ç›¸é—œæ–°èï¼Œéœ€è¦è¼¸å‡ºæ–°èå…§æ–‡ã€ä¾†æºç¶²å€ã€‚\n- å°‡æŸ¥è©¢çµæœé€²è¡Œ**æ•´ç†èˆ‡æ‘˜è¦**ï¼Œå¼·èª¿é‡é»èˆ‡èƒŒæ™¯è„ˆçµ¡ã€‚\n- å¦‚æœ‰å¤šç¯‡å ±å°æ¶‰åŠç›¸åŒä¸»é¡Œï¼Œè«‹ï¼š\n  - æ•´åˆå…§å®¹ï¼Œ**é¿å…é‡è¤‡**ã€‚\n  - æä¾›**å®Œæ•´ã€é€£è²«çš„ç¶œåˆæ‘˜è¦**ï¼Œå­—å¯ä»¥ç¨å¤šï¼Œ100å­—å…§ã€‚\n  - æ¯ç¯‡å ±å°å¾Œï¼Œé™„ä¸Šä¾†æºç¶²å€\n\n#### 2. ç•¶ä½¿ç”¨è€…è¦æ±‚ã€Œåˆ—å‡ºæ–°èæ¨™é¡Œã€æ™‚ï¼š\n- åŒæ¨£ä½¿ç”¨**News_db_query**å–å¾—æ–°èæ–‡ç« ã€‚\n- èƒå–æ‰€æœ‰æ¨™é¡Œï¼Œä¸¦æ ¹æ“š**ä¸»é¡Œç›¸ä¼¼æ€§é€²è¡Œåˆ†çµ„**ã€‚\n- ç‚ºæ¯ä¸€çµ„æä¾›**ç°¡çŸ­çš„ä¸»é¡Œèªªæ˜**ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…å¿«é€ŸæŒæ¡ç„¦é»ã€‚\n\n#### 3. æŸ¥è©¢æ–°èæ™‚çš„ä¸»å‹•æ€§ï¼š\n- **ä¸è¦æ±‚ä½¿ç”¨è€…è¼¸å…¥æ–°èä¸»é¡Œ**ã€‚\n- ç›´æ¥æ ¹æ“šæ™‚äº‹ã€ç†±é–€è¶¨å‹¢ã€é—œéµå­—ç­‰ï¼Œè‡ªè¡Œåˆ¤æ–·æŸ¥è©¢ç›®æ¨™ã€‚\n- ä¿æŒä¸»å‹•æ€§èˆ‡æ™ºæ…§åˆ¤æ–·ï¼Œç¢ºä¿è³‡è¨Šçš„å³æ™‚æ€§èˆ‡å®Œæ•´æ€§ã€‚\n\n### ğŸ§° å¯ç”¨å·¥å…·\n\n- `News_db_query`ï¼šå¯ç”¨ä¾†æŸ¥æ‰¾æœ€æ–°ã€ç›¸é—œæ–°èå…§å®¹ã€‚\n\n### æ ¼å¼å„ªåŒ–æŒ‡å¼•\n- ä½¿ç”¨è¡¨æƒ…ç¬¦è™Ÿå¢å¼·è¦–è¦ºæ•ˆæœå’Œå¯è®€æ€§\n- é©ç•¶é‹ç”¨åˆ†éš”ç·šå’Œç©ºè¡Œæå‡çµæ§‹æ¸…æ™°åº¦\n- é‡å°æ‰‹æ©Ÿé–±è®€é«”é©—å„ªåŒ–æ’ç‰ˆ\n- ç¢ºä¿å…§å®¹å®Œæ•´ä¸”é‚è¼¯æ¸…æ¥š\n\n### è¼¸å‡ºé™åˆ¶\nâŒ ç¦æ­¢ä½¿ç”¨ï¼šMarkdown èªæ³•ï¼ˆ#ã€**ã€[]()ç­‰ï¼‰\nâŒ ç¦æ­¢ä½¿ç”¨ï¼šHTML æ¨™ç±¤\nâŒ ç¦æ­¢è¼¸å‡ºï¼šè™•ç†éç¨‹èªªæ˜æˆ–é¡å¤–è¨»è§£\nâœ… åƒ…è¼¸å‡ºï¼šæœ€çµ‚æ•´ç†å®Œæˆçš„å…§å®¹ç¸½çµ\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        -288,
        -48
      ],
      "id": "745f61b7-48c1-4340-9d0b-776dfc641638",
      "name": "NEWS Agent"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.dateTimeTool",
      "typeVersion": 2,
      "position": [
        -32,
        192
      ],
      "id": "eac76e84-d9d5-4e00-b89a-768ab7c6afbb",
      "name": "Date & Time"
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "userInput"
            },
            {
              "name": "url"
            },
            {
              "name": "userId"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -528,
        -48
      ],
      "id": "e476014a-ee47-46ea-af28-b50212ef406e",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-flash-lite",
        "options": {
          "temperature": 0.4
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -352,
        176
      ],
      "id": "248b192d-cbec-4019-bed0-2cb55d6d7fb7",
      "name": "gemini-2.5-flash",
      "credentials": {
        "googlePalmApi": {
          "id": "m3rIFo4KWXjpkCMd",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "News_db_query": {
      "ai_tool": [
        [
          {
            "node": "NEWS Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Date & Time": {
      "ai_tool": [
        [
          {
            "node": "NEWS Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "NEWS Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "gemini-2.5-flash": {
      "ai_languageModel": [
        [
          {
            "node": "NEWS Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "a13391ec-7b45-4b1f-8f5f-cc30f83bb6c5",
  "meta": {
    "instanceId": "fe071ad636e45e06fef1442bb4b3138ea8056f3019d720e9410a8f0ea42951a8"
  },
  "id": "8YQ5Dxn0lt0iaJ6G",
  "tags": [
    {
      "createdAt": "2025-08-21T02:49:05.390Z",
      "updatedAt": "2025-08-21T02:49:05.390Z",
      "id": "lygt6UVIOm5CiWbW",
      "name": "linebot"
    }
  ]
}