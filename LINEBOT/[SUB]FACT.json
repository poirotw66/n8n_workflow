{
  "name": "[SUB]FACT",
  "nodes": [
    {
      "parameters": {
        "promptType": "define",
        "text": "=# è«‹ä½ æ ¹æ“šä»¥ä¸‹æ ¼å¼ï¼Œ**å…¨é¢åˆ†æé€™æ®µå…§å®¹çš„çœŸå¯¦æ€§ã€æƒ…ç·’å‚¾å‘èˆ‡å®¢è§€ç¨‹åº¦**ã€‚è«‹ç‰¹åˆ¥æ³¨æ„æ˜¯å¦å­˜åœ¨æ½›åœ¨åè¦‹ã€èª¤å°ã€èª‡å¤§æˆ–è™›å‡è¨Šæ¯ã€‚å…§å®¹å¦‚ä¸‹ï¼š\n##  ä½¿ç”¨è€…è¼¸å…¥ã€Œ{{ $json.userInput }}ã€\n##  åŒ…å«ç¶²å€ã€Œ{{ $json.url }}ã€\n\n  - è‹¥{{ $json.url }}ä¸ç‚ºç©ºï¼Œå˜—è©¦ä½¿ç”¨ \"Firecrawl\"å·¥å…·è®€å–å®Œæ•´å…§å®¹ï¼Œè‹¥æ²’æœ‰æ­£ç¢ºçˆ¬å–å…§å®¹è«‹å›è¦†éŒ¯èª¤è¨Šæ¯ã€‚å…§å®¹ä¾ç…§è¦æ±‚è¼¸å‡ºã€‚\n\n  - å¦‚å…§å®¹åŒ…å«youtubeç¶²å€ï¼Œä½¿ç”¨\"Analyze video in Google Gemini\"å·¥å…·è®€å–å½±ç‰‡ï¼Œå…§å®¹ä¾ç…§è¦æ±‚è¼¸å‡ºã€‚è‹¥æ²’æœ‰æ­£ç¢ºè®€å–å…§å®¹è«‹å›è¦†éŒ¯èª¤è¨Šæ¯ã€‚\n\n## åŸºæœ¬è¦æ±‚\n- **èªè¨€**ï¼šç¹é«”ä¸­æ–‡\n- **å¹³å°**ï¼šLINE é€šè¨Šè»Ÿé«”é©é…\n- **å­—æ•¸**ï¼šæ§åˆ¶åœ¨ 300 å­—ä»¥å…§\n- **æ ¼å¼**ï¼šç´”æ–‡å­—ï¼Œé¿å… Markdown å’Œ HTML èªæ³•\n- âœ… åƒ…è¼¸å‡ºï¼šæœ€çµ‚æ•´ç†å®Œæˆçš„å…§å®¹ç¸½çµ\n\n## ğŸ” è«‹æ ¹æ“šä»¥ä¸‹æ ¼å¼è¼¸å‡ºåˆ†æçµæœï¼š\n\nğŸ“Š **å®¢è§€åˆ†æ**  \nåˆ†æå…§å®¹æ˜¯å¦ä»¥äº‹å¯¦ç‚ºåŸºç¤ï¼Œæ˜¯å¦å¼•ç”¨å¯ä¿¡ä¾†æºï¼Œèªå¥æ˜¯å¦ä¸­ç«‹ã€‚æŒ‡å‡ºå…¶ä¸­é™³è¿°çš„äº‹å¯¦èˆ‡æ„è¦‹åˆ†åˆ¥ç‚ºä½•ã€‚\n\nğŸ­ **æƒ…ç·’å‚¾å‘åˆ†æ**  \nåˆ†æèªæ°£æ˜¯å¦å…·ç…½å‹•æ€§ã€æ†¤æ€’ã€æ‚²å‚·ã€æ¨‚è§€ç­‰æƒ…ç·’å‚¾å‘ã€‚åˆ¤æ–·é€™äº›æƒ…ç·’æ˜¯å¦æœƒå½±éŸ¿é–±è½äººåˆ¤æ–·ã€‚\n\nğŸš¨ **æ½›åœ¨çš„è™›å‡ä¿¡æ¯æˆ–åè¦‹ï¼Œä»¥åŠå¯ç–‘é»**  \næŒ‡å‡ºå…§å®¹ä¸­æ˜¯å¦å‡ºç¾ä¸å¯¦ã€èª¤å°æ€§æ•˜è¿°ã€å–®æ–¹é¢è§€é»ã€åˆ»æ¿å°è±¡ç­‰ã€‚è«‹åˆ—èˆ‰å…·é«”èªå¥æˆ–æ®µè½ï¼Œä¸¦èªªæ˜ç‚ºä½•å€¼å¾—æ‡·ç–‘ã€‚\n\nğŸ” **å»ºè­°æŸ¥è­‰çš„äº‹å¯¦**  \nåˆ—å‡ºéœ€è¦é€²ä¸€æ­¥æŸ¥è­‰çš„å…·é«”è³‡è¨Šï¼ˆå¦‚äººåã€æ•¸å­—ã€äº‹ä»¶ã€å¼•ç”¨ã€åœ–ç‰‡ã€ä¾†æºã€å½±ç‰‡ç­‰ï¼‰ï¼Œä»¥é‡æ¸…å…¶çœŸå¯¦æ€§ã€‚\n\nğŸ“ **ç¸½çµ**  \nè«‹ç°¡è¦æ¦‚æ‹¬ä»¥ä¸Šæ¬„ä½çš„ä¸»æ—¨èˆ‡è¦å‚³é”çš„æ ¸å¿ƒè¨Šæ¯ã€‚\n\nâœ… **è£œå……å»ºè­°**\n- è‹¥åŸå§‹å…§å®¹ç‚ºåœ–ç‰‡ã€å½±ç‰‡ã€ç¤¾ç¾¤è²¼æ–‡ï¼Œè«‹èªªæ˜æ˜¯å¦å­˜åœ¨ç¯¡æ”¹æˆ–æ–·ç« å–ç¾©çš„å¯èƒ½æ€§ã€‚\n- è‹¥ä½ èƒ½å¼•ç”¨å…·å…¬ä¿¡åŠ›ä¾†æºï¼ˆå¦‚å®˜æ–¹ã€å­¸è¡“ã€ä¸»æµåª’é«”ï¼‰ä¾†ä½è­‰æˆ–åé§ï¼Œä¹Ÿè«‹åˆ—å‡ºã€‚",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2,
      "position": [
        -176,
        -80
      ],
      "id": "1ee040b6-f104-4189-bb5c-bc28074a52ab",
      "name": "FACT Agent"
    },
    {
      "parameters": {
        "modelName": "models/gemini-2.5-flash-lite",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -352,
        144
      ],
      "id": "40206d3d-c79d-4df7-a63d-f9fc738d7a86",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "m3rIFo4KWXjpkCMd",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "toolDescription": "Call this tool to get a youtube  video summary.\n",
        "url": "http://gemini-api-standalone:8001/summarize",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', ``, 'string') }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        -96,
        144
      ],
      "id": "3b237e04-a93e-4776-9fdb-2d8ded0edb1b",
      "name": "Gemini_Video_Understand"
    },
    {
      "parameters": {
        "toolDescription": "use firecrawl and scrape websites in your n8n workflows.",
        "method": "POST",
        "url": "http://api:3002/v1/scrape",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "url",
              "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('parameters0_Value', ``, 'string') }}"
            },
            {
              "name": "formats",
              "value": "={{ [\"markdown\"] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        32,
        144
      ],
      "id": "60a8d7f9-57a2-475f-b4e4-797322daa4ff",
      "name": "Firecrawl"
    },
    {
      "parameters": {
        "workflowInputs": {
          "values": [
            {
              "name": "userInput"
            },
            {
              "name": "url"
            },
            {
              "name": "userId"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1.1,
      "position": [
        -576,
        -80
      ],
      "id": "5419e121-e8f3-40d6-af86-f958eeabf320",
      "name": "When Executed by Another Workflow"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $json.userId }}"
      },
      "type": "@n8n/n8n-nodes-langchain.memoryZep",
      "typeVersion": 1.3,
      "position": [
        -224,
        144
      ],
      "id": "54eb8057-8625-44c6-b6c6-824561214487",
      "name": "Zep",
      "credentials": {
        "zepApi": {
          "id": "tR57ak8KfkLp9cPh",
          "name": "Zep Api account"
        }
      }
    },
    {
      "parameters": {
        "resource": "video",
        "operation": "analyze",
        "modelId": {
          "__rl": true,
          "value": "models/gemini-2.5-flash",
          "mode": "list",
          "cachedResultName": "models/gemini-2.5-flash"
        },
        "text": "Please summarize the video. è¼¸å‡ºç¹é«”ä¸­æ–‡",
        "videoUrls": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL_s_', ``, 'string') }}",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.googleGeminiTool",
      "typeVersion": 1,
      "position": [
        208,
        128
      ],
      "id": "860e9629-f802-4e80-b2ae-992974b3ba84",
      "name": "Analyze video in Google Gemini",
      "credentials": {
        "googlePalmApi": {
          "id": "m3rIFo4KWXjpkCMd",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "FACT Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Gemini_Video_Understand": {
      "ai_tool": [
        [
          {
            "node": "FACT Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Firecrawl": {
      "ai_tool": [
        [
          {
            "node": "FACT Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "When Executed by Another Workflow": {
      "main": [
        [
          {
            "node": "FACT Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Zep": {
      "ai_memory": [
        [
          {
            "node": "FACT Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Analyze video in Google Gemini": {
      "ai_tool": [
        [
          {
            "node": "FACT Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "1f20e108-2345-4353-bddf-fba77b05236a",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "fe071ad636e45e06fef1442bb4b3138ea8056f3019d720e9410a8f0ea42951a8"
  },
  "id": "162mADlvuCibUju0",
  "tags": [
    {
      "updatedAt": "2025-08-21T02:49:05.390Z",
      "createdAt": "2025-08-21T02:49:05.390Z",
      "id": "lygt6UVIOm5CiWbW",
      "name": "linebot"
    }
  ]
}