# LINE Chatbot 專案

這是一個基於 n8n 平台建構的 LINE Chatbot 專案，旨在提供智能化的自動回覆功能。它利用 AI 語言模型（如 Google Gemini）來分析用戶輸入，並根據內容類型（技術相關或非技術相關）生成適當的回應。

## 專案結構

- LINE_CHATBOT.json: n8n 工作流的匯出檔案，包含了 Chatbot 的所有邏輯和節點配置。
- LINE_CHATBOT.txt: 描述了 AI 語言模型的主要任務、內容判斷與處理邏輯、技術內容輸出規範等。

## 功能概述

### 1. Webhook 入口

- 監聽來自 LINE 的訊息，觸發自動回應流程。
- **注意事項**：
  - 確保 Webhook 設定正確，確保 LINE 可發送請求。
  - 需要在 LINE Developers Console 設定 Webhook URL。

### 2. AI 語言模型處理

- 呼叫 AI 模型（如 Google Gemini）來產生適當回應。
- **主要任務**：分析用戶輸入內容，並根據以下邏輯處理：
  - **技術相關內容處理**：
    - 判斷標準：包含技術文件、會議記錄、專業討論等內容。
    - 處理方式：
      1. 如內容包含網址，使用 "HTTP_Request" 或是 "Jina AI" 工具讀取完整內容。
      2. 一般情況依照「標準輸出模板」格式化回覆。
      3. 若使用者要求詳細報告，則依照「詳細輸出模板」輸出。
      4. 內容與技術內容不相關，依照「非技術內容處理」輸出。
  - **非技術內容處理**：展現個性化的對話風格。
- **注意事項**：
  - 確保 API Key 正確填寫，避免請求失敗。
  - 設定 `prompt` 要求輸出 JSON，避免格式錯誤。

### 3. 處理 AI 回應

- 解析 AI 產生的回應，取得 `replyToken` 和 `text`。
- **注意事項**：
  - 確保 AI Agent 輸出的格式正確。
  - 若 AI 輸出錯誤，應該在這裡處理錯誤邏輯。

### 4. 發送回應給 LINE

- 將處理後的訊息發送回 LINE 用戶。

## 技術內容輸出規範

### 基本要求
- **語言**：繁體中文
- **平台**：LINE 通訊軟體適配
- **字數**：控制在 500 字以內。
- **格式**：純文字，避免 Markdown 和 HTML 語法。

### 輸出模板

- **標準輸出模板**：